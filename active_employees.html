<!DOCTYPE html>
<html class="no-js" lang="en-US">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Human Resources Gateway - Developer Guide</title>
	<link rel="icon" type="image/png" href="images/favicon.png">
	<link rel="stylesheet" href="styles/style.css">

	<script src="https://use.fontawesome.com/a63cbdeb8f.js"></script>
</head>
<body>
<div class="protect-me">
	<div class="clearfix">
		<!-- Header -->
		<header>
			<div class="wrapper">
				<div class="header_con">
					<a href="index.html" class="main_logo">
						<figure><img src="images/main-logo.png" alt=""/></figure>
					</a>
				</div>
			</div>
		</header>
		<!-- End Header -->

		<!-- Main -->
		<div id="main_area">
			<div class="wrapper">
				<div class="main_con">
					<main>
						<h1>Active Employees</h1>
						<ul class="bullet">
							<li><a href="active_employees.html#list_page">Employee List Page</a></li>
							<li><a href="active_employees.html#card_page">Employee Card Page</a></li>
							<li><a href="active_employees.html#add_page">Add Employee Page</a></li>
							<li><a href="active_employees.html#view_page">View Employee Detail Page</a></li>
							<li><a href="active_employees.html#edit_page">Edit Employee Detail Page</a></li>
							<li><a href="active_employees.html#change_page">Change Employee Password Page</a></li>
						</ul>

						<div class="divider"></div>

						<div class="main_content">
							<h2>Overview</h2>
							<p>List of the Company's <i>Active Employees</i>. Adding new employees, viewing of employees information, updating employee information and more.</p>

							<pre class="label">
								<span>Tables Affected:</span>
								<a href="javascript:;" class="disabled">employee_info</a>
								<a href="javascript:;" class="disabled">employee_info_details</a>
								<a href="javascript:;" class="disabled">log</a>
							</pre>

							<pre class="label">
								<span>Controllers Used:</span>
								<a href="javascript:;" class="disabled">root/app/Http/Controllers/EmployeeInfoController.php</a>
							</pre>

							<pre class="label">
								<span>Models Used:</span>
								<a href="javascript:;" class="disabled">root/app/User.php</a>
								<a href="javascript:;" class="disabled">root/app/EmployeeInfoDetails.php</a>
								<a href="javascript:;" class="disabled">root/app/Log.php</a>
							</pre>

							<pre class="label">
								<span>Views Used:</span>
								<a href="javascript:;" class="disabled">root/resources/views/employee/style.css</a>
							</pre>

							<pre class="label">
								<span>Other Directory Used:</span>
								<a href="javascript:;" class="disabled">root/app/Repositories/EmployeeRepository.php</a>
							</pre>

							<div class="divider"></div>

							<div class="content content_child" id="list_page">
								<h3>Employee List Page</h3>
								<p>Get all <i>Active Employees</i> and return it in a <b>List</b> format.</p>

								<pre class="label">
									<span>Location:</span>
									<a href="http://dir.elink.corp/employees" target="_blank">http://dir.elink.corp/employees</a>
								</pre>

								<pre class="label">
									<span>Models Used:</span>
									<a href="javascript:;" class="disabled">root/app/EmployeeDepartment.php</a>
								</pre>

								<pre class="label">
									<span>Views Used:</span>
									<a href="javascript:;" class="disabled">root/resources/views/employee/employees.blade.php</a>
								</pre>

								<pre class="label">
									<span>Functions Used:</span>
									<p><b>EmployeeRepository</b><b class="function">::employees</b></p>
								</pre>

								<pre class="label">
									<span>Query (Eloquent):</span>
									<p><b>EmployeeDepartment</b>::<b>orderBy</b>()-><b>orderBy</b>(<b class="function">'department_name'</b>)-><b>get</b>()</p>
									<p><b>User</b>::<b>allExceptSuperAdmin</b>()-><b>select</b>(<b class="function">'position_name'</b>)-><b>distinct</b>()-><b>orderBy</b>(<b class="function">'position_name'</b>)-><b>get</b>()</p>
									<p><b>User</b>::<b>activeEmployees</b>()-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">10</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all <b>Department</b> in alphabetical order, to be use on <i>Search by Department</i> select</li>
										<li>Get all <b class="function">Distinct</b> <b>Position</b> from the Employees in alphabetical order, to be use on <i>Search by Position</i> select</li>
										<li>Get the first <b class="function">10</b> record using <b class="function">Pagination</b> to get <b>Active Employees</b> except the Super Admin, in alphabetical order by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Inputs Needed (Search):</span>
									<p><b>Search by name</b> (Keyword Search)</p>
									<p><b>Inactive Employees</b> (Radio Button)</p>
									<p><b>No Profile Images</b> (Radio Button)</p>
									<p><b>Invalid Birthday</b> (Radio Button)</p>
									<p><b>Search by Department</b> (Select Search)</p>
									<p><b>Search by Position</b> (Select Search)</p>
									<p><b>Search by Birth Month</b> (Select Search)</p>
								</pre>

								<pre class="label">
									<span>Search Keyword Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()-><b>where</b>(<b>function</b>(<b class="function">$query</b>) <b>use</b>(<b class="function">$request</b>) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$query</b>-><b>where</b>(<b class="function">'first_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'last_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'middle_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b>DB</b>::<b>raw</b>(<b class="function">'CONCAT(first_name, " ", last_name)'</b>), <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'email'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'email2'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'email3'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'alias'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'team_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'dept_code'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'position_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'ext'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>})-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">10</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Search by name</b>, compare it to some of the columns from <b>employee_info</b>, the following columns are used: <b class="function">first_name</b>, <b class="function">last_name</b>, <b class="function">middle_name</b>, <b class="function">email</b>, <b class="function">email2</b>, <b class="function">email3</b>, <b class="function">alias</b>, <b class="function">team_name</b>, <b class="function">dept_code</b>, <b class="function">position_name</b>, <b class="function">ext</b></li>
										<li>After that, select the first <b class="function">10</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Inactive Employees (Redirect):</span>
									<a href="http://dir.elink.corp/employees/separated" target="_blank">http://dir.elink.corp/employees/separated</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Inactive Employees</b> Radio Button, will just redirect you to the <i>Separated Employees</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>No Profile Images Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()-><b>where</b>(<b>function</b>(<b class="function">$query</b>) <b>use</b>(<b class="function">$request</b>) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$query</b>-><b>where</b>(<b class="function">'profile_img'</b>, <b class="function">'LIKE'</b>, <b class="function">'http://dir.elink.corp/public/img/nobody_m.original.jpg'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'profile_img'</b>, <b class="function">'LIKE'</b>, <b class="function">'http://dir.elink.corp/public/img/nobody_f.original.jpg'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'profile_img'</b>, <b class="function">'='</b>, <b class="function">'NULL'</b>)</p>
									<p>})-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">10</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>No Profile Images</b>, check if the <b class="function">profile_img</b> column is using the default <b>Male</b> or <b>Female</b> Profile Photo, or if the <b class="function">profile_img</b> is <b>NULL</b></li>
										<li>After that, select the first <b class="function">10</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Invalid Birthday Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()-><b>where</b>(<b>function</b>(<b class="function">$query</b>) <b>use</b>(<b class="function">$request</b>) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$query</b>-><b>whereRaw</b>(<b class="function">'YEAR(birth_date) &gt; '</b> . (<b>date</b>(<b class="function">'Y'</b>) - <b class="function">16</b>) . <b class="function">' OR YEAR(birth_date) &lt;'</b> . (<b>date</b>(<b class="function">'Y'</b>) - <b class="function">70</b>))</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhereNull</b>(<b class="function">'birth_date'</b>)</p>
									<p>})-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">10</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Invalid Birthday</b>, check if the Employees Age is <b>Under 16 Years Old</b> or <b>Over 70 Years Old</b> using the <b class="function">birth_date</b> column, or if <b class="function">birth_date</b> is <b>NULL</b></li>
										<li>After that, select the first <b class="function">10</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Search by Department Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()</p>
									<p>-><b>where</b>(<b class="function">'team_name'</b>, <b class="function">'LIKE'</b>, <b>$request</b>-><b>get</b>(<b class="function">'department'</b>))</p>
									<p>-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">10</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Search by Department</b>, checking the <b class="function">team_name</b> column, get employees from that department. After that, select the first <b class="function">10</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Search by Position Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()</p>
									<p>-><b>where</b>(<b class="function">'position_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b> . <b>$request</b>-><b>get</b>(<b class="function">'position'</b>) . <b class="function">'%'</b>)</p>
									<p>-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">10</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Search by Position</b>, checking the <b class="function">position_name</b> column, get employees with that position. After that, select the first <b class="function">10</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Search by Birthmonth Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()</p>
									<p>-><b>whereRaw</b>(<b class="function">'MONTH(birth_date) = '</b> . <b>$request</b>-><b>get</b>(<b class="function">'birthmonth'</b>))</p>
									<p>-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">10</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Search by Birthmonth</b>, checking the <b class="function">birth_date</b> column, get employees from that birth month. After that, select the first <b class="function">10</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Actions (Button Triggers):</span>
									<p><b>Add Employee</b></p>
									<p><b>Download Employee Information</b></p>
									<p><b>Card Type View</b></p>
									<p><b>View Employee Information</b></p>
									<p><b>Edit Employee Information</b></p>
									<p><b>Deactivate Employee</b></p>
								</pre>

								<pre class="label">
									<span>Add Employee Action:</span>
									<a href="http://dir.elink.corp/employee_info/create" target="_blank">http://dir.elink.corp/employee_info/create</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Add Employee</b> Button, it will redirect you to the <i>Add Employee</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Download Employee Information Action:</span>
									<p><b>EmployeeInfoController</b>::<b class="function">downloadFilter</b></p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Download Employee Information</b> Button, it will generate an <b class="function">Excel File</b> where you can view <i>All Employees</i> specified by its <b>Filters</b> if it is being Filtered.</li>
									</ul>
								</div>

								<pre class="label">
									<span>Card Type View Action:</span>
									<a href="http://dir.elink.corp/employees-card" target="_blank">http://dir.elink.corp/employees-card</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Card Type View</b> Button, it will redirect you to the <i>Employee Card Type</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>View Employee Information Action:</span>
									<a href="http://dir.elink.corp/employee_info/xxx" target="_blank">http://dir.elink.corp/employee_info/xxx</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the Employees <b>Name</b> or the <b>Eye <span class="fa fa-eye"></span></b> Button, it will redirect you to that <i>Employees Detail</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Edit Employee Information Action:</span>
									<a href="http://dir.elink.corp/employee_info/xxx/edit" target="_blank">http://dir.elink.corp/employee_info/xxx/edit</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Pencil <span class="fa fa-pencil"></span></b> Button, it will redirect you to that <i>Employees Detail</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Deactivate Employee Action:</span>
									<p><b>EmployeeInfoController</b>::<b class="function">destroy</b></p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Person Icon with an X Mark <span class="fa fa-user-times"></span></b> Button, it will show a <b class="function">Pop-Up</b> that is gonna ask if you want to put this specific Employee to the <i>Separated Employees</i></li>
										<li>It will also add a <b>Log</b> that indicates that someone transfers this user to the <i>Seperated Employees</i> Lists</li>
									</ul>
								</div>
							</div>

							<div class="divider"></div>

							<div class="content content_child" id="card_page">
								<h3>Employee Card Page</h3>
								<p>Get all <i>Active Employees</i> and return it on a <b>Card</b> format.</p>

								<pre class="label">
									<span>Location:</span>
									<a href="http://dir.elink.corp/employees-card" target="_blank">http://dir.elink.corp/employees-card</a>
								</pre>

								<pre class="label">
									<span>Models Used:</span>
									<a href="javascript:;" class="disabled">root/app/EmployeeDepartment.php</a>
								</pre>

								<pre class="label">
									<span>Views Used:</span>
									<a href="javascript:;" class="disabled">root/resources/views/employee/card.blade.php</a>
								</pre>

								<pre class="label">
									<span>Functions Used:</span>
									<p><b>EmployeeRepository</b><b class="function">::employees</b></p>
								</pre>

								<pre class="label">
									<span>Query (Eloquent):</span>
									<p><b>EmployeeDepartment</b>::<b>orderBy</b>()-><b>orderBy</b>(<b class="function">'department_name'</b>)-><b>get</b>()</p>
									<p><b>User</b>::<b>allExceptSuperAdmin</b>()-><b>select</b>(<b class="function">'position_name'</b>)-><b>distinct</b>()-><b>orderBy</b>(<b class="function">'position_name'</b>)-><b>get</b>()</p>
									<p><b>User</b>::<b>activeEmployees</b>()-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">12</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all <b>Department</b> in alphabetical order, to be use on <i>Search by Department</i> select</li>
										<li>Get all <b class="function">Distinct</b> <b>Position</b> from the Employees in alphabetical order, to be use on <i>Search by Position</i> select</li>
										<li>Get the first <b class="function">12</b> record using <b class="function">Pagination</b> to get <b>Active Employees</b> except the Super Admin, in alphabetical order by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Inputs Needed (Search):</span>
									<p><b>Search by name</b> (Keyword Search)</p>
									<p><b>Inactive Employees</b> (Radio Button)</p>
									<p><b>No Profile Images</b> (Radio Button)</p>
									<p><b>Invalid Birthday</b> (Radio Button)</p>
									<p><b>Search by Department</b> (Select Search)</p>
									<p><b>Search by Position</b> (Select Search)</p>
									<p><b>Search by Birth Month</b> (Select Search)</p>
								</pre>

								<pre class="label">
									<span>Search Keyword Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()-><b>where</b>(<b>function</b>(<b class="function">$query</b>) <b>use</b>(<b class="function">$request</b>) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$query</b>-><b>where</b>(<b class="function">'first_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'last_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'middle_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b>DB</b>::<b>raw</b>(<b class="function">'CONCAT(first_name, " ", last_name)'</b>), <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'email'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'email2'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'email3'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'alias'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'team_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'dept_code'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'position_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'ext'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b>.<b>$request</b>-><b>get</b>(<b class="function">'keyword'</b>).<b class="function">'%'</b>)</p>
									<p>})-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">12</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Search by name</b>, compare it to some of the columns from <b>employee_info</b>, the following columns are used: <b class="function">first_name</b>, <b class="function">last_name</b>, <b class="function">middle_name</b>, <b class="function">email</b>, <b class="function">email2</b>, <b class="function">email3</b>, <b class="function">alias</b>, <b class="function">team_name</b>, <b class="function">dept_code</b>, <b class="function">position_name</b>, <b class="function">ext</b></li>
										<li>After that, select the first <b class="function">12</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Inactive Employees (Redirect):</span>
									<a href="http://dir.elink.corp/employees/separated" target="_blank">http://dir.elink.corp/employees/separated</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Inactive Employees</b> Radio Button, will just redirect you to the <i>Separated Employees</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>No Profile Images Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()-><b>where</b>(<b>function</b>(<b class="function">$query</b>) <b>use</b>(<b class="function">$request</b>) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$query</b>-><b>where</b>(<b class="function">'profile_img'</b>, <b class="function">'LIKE'</b>, <b class="function">'http://dir.elink.corp/public/img/nobody_m.original.jpg'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'profile_img'</b>, <b class="function">'LIKE'</b>, <b class="function">'http://dir.elink.corp/public/img/nobody_f.original.jpg'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhere</b>(<b class="function">'profile_img'</b>, <b class="function">'='</b>, <b class="function">'NULL'</b>)</p>
									<p>})-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">12</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>No Profile Images</b>, check if the <b class="function">profile_img</b> column is using the default <b>Male</b> or <b>Female</b> Profile Photo, or if the <b class="function">profile_img</b> is <b>NULL</b></li>
										<li>After that, select the first <b class="function">12</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Invalid Birthday Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()-><b>where</b>(<b>function</b>(<b class="function">$query</b>) <b>use</b>(<b class="function">$request</b>) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$query</b>-><b>whereRaw</b>(<b class="function">'YEAR(birth_date) &gt; '</b> . (<b>date</b>(<b class="function">'Y'</b>) - <b class="function">16</b>) . <b class="function">' OR YEAR(birth_date) &lt;'</b> . (<b>date</b>(<b class="function">'Y'</b>) - <b class="function">70</b>))</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;-><b>orWhereNull</b>(<b class="function">'birth_date'</b>)</p>
									<p>})-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">12</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Invalid Birthday</b>, check if the Employees Age is <b>Under 16 Years Old</b> or <b>Over 70 Years Old</b> using the <b class="function">birth_date</b> column, or if <b class="function">birth_date</b> is <b>NULL</b></li>
										<li>After that, select the first <b class="function">12</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Search by Department Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()</p>
									<p>-><b>where</b>(<b class="function">'team_name'</b>, <b class="function">'LIKE'</b>, <b>$request</b>-><b>get</b>(<b class="function">'department'</b>))</p>
									<p>-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">12</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Search by Department</b>, checking the <b class="function">team_name</b> column, get employees from that department. After that, select the first <b class="function">12</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Search by Position Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()</p>
									<p>-><b>where</b>(<b class="function">'position_name'</b>, <b class="function">'LIKE'</b>, <b class="function">'%'</b> . <b>$request</b>-><b>get</b>(<b class="function">'position'</b>) . <b class="function">'%'</b>)</p>
									<p>-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">12</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Search by Position</b>, checking the <b class="function">position_name</b> column, get employees with that position. After that, select the first <b class="function">12</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Search by Birthmonth Query (Eloquent):</span>
									<p><b>User</b>::<b>activeEmployees</b>()</p>
									<p>-><b>whereRaw</b>(<b class="function">'MONTH(birth_date) = '</b> . <b>$request</b>-><b>get</b>(<b class="function">'birthmonth'</b>))</p>
									<p>-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>, <b class="function">'ASC'</b>)-><b>paginate</b>(<b class="function">12</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>When Searching for an <i>Active Employee</i> using the <b>Search by Birthmonth</b>, checking the <b class="function">birth_date</b> column, get employees from that birth month. After that, select the first <b class="function">12</b> records except for super admin using <b>Pagination</b>, and order it alphabetically by <i>Last Name</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Actions (Button Triggers):</span>
									<p><b>Add Employee</b></p>
									<p><b>Download Employee Information</b></p>
									<p><b>List Type View</b></p>
									<p><b>View Employee Information</b></p>
									<p><b>Edit Employee Information</b></p>
									<p><b>Deactivate Employee</b></p>
								</pre>

								<pre class="label">
									<span>Add Employee Action:</span>
									<a href="http://dir.elink.corp/employee_info/create" target="_blank">http://dir.elink.corp/employee_info/create</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Add Employee</b> Button, it will redirect you to the <i>Add Employee</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Download Employee Information Action:</span>
									<p><b>EmployeeInfoController</b>::<b class="function">downloadFilter</b></p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Download Employee Information</b> Button, it will generate an <b class="function">Excel File</b> where you can view <i>All Employees</i> specified by its <b>Filters</b> if it is being Filtered.</li>
									</ul>
								</div>

								<pre class="label">
									<span>List Type View Action:</span>
									<a href="http://dir.elink.corp/employees" target="_blank">http://dir.elink.corp/employees</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>List Type View</b> Button, it will redirect you to the <i>Employee List Type</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>View Employee Information Action:</span>
									<a href="http://dir.elink.corp/employee_info/xxx" target="_blank">http://dir.elink.corp/employee_info/xxx</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the Employees <b>Name</b> or the <b>Eye <span class="fa fa-eye"></span></b> Button, it will redirect you to that <i>Employees Detail</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Edit Employee Information Action:</span>
									<a href="http://dir.elink.corp/employee_info/xxx/edit" target="_blank">http://dir.elink.corp/employee_info/xxx/edit</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Pencil <span class="fa fa-pencil"></span></b> Button, it will redirect you to that <i>Employees Detail</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Deactivate Employee Action:</span>
									<p><b>EmployeeInfoController</b>::<b class="function">destroy</b></p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Person Icon with an X Mark <span class="fa fa-user-times"></span></b> Button, it will show a <b class="function">Pop-Up</b> that is gonna ask if you want to put this specific Employee to the <i>Separated Employees</i></li>
										<li>It will also add a <b>Log</b> that indicates that someone transfers this user to the <i>Seperated Employees</i> Lists</li>
									</ul>
								</div>
							</div>

							<div class="divider"></div>

							<div class="content content_child" id="add_page">
								<h3>Add Card Page</h3>
								<p>Add <i>New Employee</i> on the Gateway.</p>

								<pre class="label">
									<span>Location:</span>
									<a href="http://dir.elink.corp/employee_info/create" target="_blank">http://dir.elink.corp/employee_info/create</a>
								</pre>

								<pre class="label">
									<span>Other Tables Affected:</span>
									<a href="javascript:;" class="disabled">employee_dependents</a>
									<a href="javascript:;" class="disabled">movements</a>
								</pre>

								<pre class="label">
									<span>Models Used:</span>
									<a href="javascript:;" class="disabled">root/app/EmployeeDepartment.php</a>
									<a href="javascript:;" class="disabled">root/app/ElinkAccount.php</a>
								</pre>

								<pre class="label">
									<span>Views Used:</span>
									<a href="javascript:;" class="disabled">root/resources/views/employee/create.blade.php</a>
								</pre>

								<pre class="label">
									<span>Inputs Needed:</span>
									<p><b>First Name</b> (Required)</p>
									<p><b>Middle Name</b></p>
									<p><b>Last Name</b> (Required)</p>
									<p><b>Employee ID</b> (Required)</p>
									<p><b>Phone Name / Alias</b></p>
									<p><b>Birthdate</b> (Required)</p>
									<p><b>Contact Number</b></p>
									<p><b>Gender</b> (Radio Button)</p>
									<p><b>Civil Status</b> (Select)</p>
									<p><b>Avega Number</b></p>
									<p><b>City Address</b></p>
									<p><b>Home Town Address</b></p>
									<p><b>Father's Name</b></p>
									<p><b>Father's Birthday</b></p>
									<p><b>Complete Mother's Maiden Name</b></p>
									<p><b>Mother's Birthday</b></p>
									<p><b>Spouse's Name</b></p>
									<p><b>Spouse's Birthday</b></p>
									<p><b>Dependent's Name</b> (Multiple)</p>
									<p><b>Dependent's Birthday</b> (Multiple)</p>
									<p><b>Dependent's Generali Number</b> (Multiple)</p>
									<p><b>In case of emergency please contact</b></p>
									<p><b>In case of emergency please contact - Relationship</b></p>
									<p><b>In case of emergency please contact - Contact Number</b></p>
									<p><b>In case of emergency please contact - Address</b></p>
									<p><b>User Access</b></p>
									<p><b>Position</b> (Required, Select)</p>
									<p><b>Account</b> (Required, Select)</p>
									<p><b>Team/Department</b> (Required, Select)</p>
									<p><b>Manager</b> (Select)</p>
									<p><b>Immediate Superior / Supervisor</b> (Select)</p>
									<p><b>Employee Type </b> (Select)</p>
									<p><b>Employee Category</b> (Select)</p>
									<p><b>Hire Date</b></p>
									<p><b>Production Date</b></p>
									<p><b>Regularization Date</b></p>
									<p><b>EXT</b></p>
									<p><b>Wave</b></p>
									<p><b>Rehirable</b></p>
									<p><b>Rehirable - Reason</b></p>
									<p><b>SSS Number</b></p>
									<p><b>Pag-ibig/HDMF</b></p>
									<p><b>Philhealth Number</b></p>
									<p><b>TIN ID</b></p>
									<p><b>Company Email</b> (Required)</p>
									<p><b>Personal Email</b></p>
									<p><b>Secondary Email</b></p>
								</pre>

								<pre class="label">
									<span>Functions Used:</span>
									<p><b>EmployeeInfoController</b><b class="function">::store</b></p>
									<p><b>EmployeeRepository</b><b class="function">::store</b></p>
								</pre>

								<pre class="label">
									<span>Insert Employee Information Query (Eloquent):</span>
									<p><b>$manager</b> = <b>User</b>::<b>find</b>(<b>$request</b>-><b class="function">manager_id</b>)</p>
									<p><b>$supervisor</b> = <b>User</b>::<b>find</b>(<b>$request</b>-><b class="function">supervisor_id</b>)</p>
									<p></p>
									<p><b>$employee</b> = <b class="function">new</b> <b>User</b>()</p>
									<p><b>$employee</b>-><b class="function">eid</b> = <b>$request</b>-><b class="function">eid</b></p>
									<p><b>$employee</b>-><b class="function">first_name</b> = <b>$request</b>-><b class="function">first_name</b></p>
									<p><b>$employee</b>-><b class="function">middle_name</b> = <b>$request</b>-><b class="function">middle_name</b></p>
									<p><b>$employee</b>-><b class="function">last_name</b> = <b>$request</b>-><b class="function">last_name</b></p>
									<p><b>$employee</b>-><b class="function">alias</b> = <b>$request</b>-><b class="function">alias</b></p>
									<p><b>$employee</b>-><b class="function">position_name</b> = <b>$request</b>-><b class="function">position_name</b></p>
									<p><b>$employee</b>-><b class="function">contact_number</b> = <b>$request</b>-><b class="function">contact_number</b></p>
									<p><b>$employee</b>-><b class="function">supervisor_id</b> = <b>$request</b>-><b class="function">supervisor_id</b></p>
									<p><b>$employee</b>-><b class="function">manager_id</b> = <b>$request</b>-><b class="function">manager_id</b></p>
									<p></p>
									<p><b class="function">if</b>(<b>$supervisor</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">supervisor_name</b> = <b>$supervisor</b>-><b class="function">fullName</b>()</p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$manager</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">manager_name</b> = <b>$manager</b>-><b class="function">fullName</b>()</p>
									<p>}</p>
									<p></p>
									<p><b>$employee</b>-><b class="function">dept_code</b> = <b>$request</b>-><b class="function">dept_code</b></p>
									<p><b>$employee</b>-><b class="function">team_name</b> = <b>$request</b>-><b class="function">team_name</b></p>
									<p><b>$employee</b>-><b class="function">gender</b> = <b>$request</b>-><b class="function">gender_id</b></p>
									<p><b>$employee</b>-><b class="function">address</b> = <b>$request</b>-><b class="function">address</b></p>
									<p><b>$employee</b>-><b class="function">account_id</b> = <b>$request</b>-><b class="function">account_id</b></p>
									<p><b>$employee</b>-><b class="function">status</b> = <b>$request</b>-><b class="function">status_id</b></p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'employee_type'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">usertype</b> = <b>$request</b>-><b class="function">usertype</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'all_access'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">all_access</b> = <b class="function">1</b></p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">all_access</b> = <b class="function">0</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'is_admin'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_admin</b> = <b class="function">1</b></p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_admin</b> = <b class="function">0</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'is_hr'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_hr</b> = <b class="function">1</b></p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_hr</b> = <b class="function">0</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'is_erp'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_erp</b> = <b class="function">1</b></p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_erp</b> = <b class="function">0</b></p>
									<p>}</p>
									<p></p>
									<p><b>$datetime</b> = <b class="function">new</b> <b>DateTime</b>()</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'birth_date'</b>) && <b>$request</b>-><b class="function">birth_date</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$birth_date</b> = <b>$datetime</b>-><b class="function">createFromFormat</b>(<b class="function">'m/d/Y'</b>, <b>$request</b>-><b class="function">birth_date</b>)-><b>format</b>(<b class="function">"Y-m-d H:i:s"</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">birth_date</b> = <b>$birth_date</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'hired_date'</b>) && <b>$request</b>-><b class="function">hired_date</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$hired_date</b> = <b>$datetime</b>-><b class="function">createFromFormat</b>(<b class="function">'m/d/Y'</b>, <b>$request</b>-><b class="function">hired_date</b>)-><b>format</b>(<b class="function">"Y-m-d H:i:s"</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">hired_date</b> = <b>$hired_date</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'prod_date'</b>) && <b>$request</b>-><b class="function">prod_date</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$prod_date</b> = <b>$datetime</b>-><b class="function">createFromFormat</b>(<b class="function">'m/d/Y'</b>, <b>$request</b>-><b class="function">prod_date</b>)-><b>format</b>(<b class="function">"Y-m-d H:i:s"</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">prod_date</b> = <b>$prod_date</b></p>
									<p>}</p>
									<p></p>
									<p><b>$employee</b>-><b class="function">email</b> = <b>$request</b>-><b class="function">email</b></p>
									<p><b>$employee</b>-><b class="function">email2</b> = <b>$request</b>-><b class="function">email2</b></p>
									<p><b>$employee</b>-><b class="function">email3</b> = <b>$request</b>-><b class="function">email3</b></p>
									<p><b>$employee</b>-><b class="function">ext</b> = <b>$request</b>-><b class="function">ext</b></p>
									<p><b>$employee</b>-><b class="function">wave</b> = <b>$request</b>-><b class="function">wave</b></p>
									<p><b>$employee</b>-><b class="function">sss</b> = <b>$request</b>-><b class="function">sss</b></p>
									<p><b>$employee</b>-><b class="function">pagibig</b> = <b>$request</b>-><b class="function">pagibig</b></p>
									<p><b>$employee</b>-><b class="function">philhealth</b> = <b>$request</b>-><b class="function">philhealth</b></p>
									<p><b>$employee</b>-><b class="function">tin</b> = <b>$request</b>-><b class="function">tin</b></p>
									<p><b>$employee</b>-><b class="function">is_regular</b> = <b>$request</b>-><b class="function">is_regular</b></p>
									<p><b>$employee</b>-><b class="function">employee_category</b> = <b>$request</b>-><b class="function">employee_category</b></p>
									<p><b>$employee</b>-><b class="function">regularization_date</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">regularization_date</b>))</p>
									<p><b>$employee</b>-><b class="function">civil_status</b> = <b>$request</b>-><b class="function">civil_status</b></p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">gender</b> == <b class="function">2</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">profile_img</b> = <b class="function">'http://dir.elink.corp/public/img/nobody_f.original.jpg'</b></p>
									<p>}</p>
									<p></p>
									<p><b>$employee</b>-><b class="function">password</b> = <b>Hash</b>::<b>make</b>(<b>env</b>(<b class="function">'USER_DEFAULT_PASSWORD'</b>, <b class="function">'qwe123!@#$'</b>))</p>
									<p><b>$employee</b>-><b class="function">save</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>After Filling-out the Form, If a <b>Manager</b> or <b>Supervisor</b> is selected, find that User and get its <b class="function">Fullname</b> and insert it into their respective columns, <b class="function">manager_name</b> and <b class="function">supervisor_name</b></li>
										<li>If a photo is not found, use the default photo for each <b class="function">Gender</b> type</li>
										<li><b class="function">Password</b> is auto generated, and by default is <b>qwe123!@#</b></li>
									</ul>
								</div>

								<pre class="label">
									<span>Insert Employee Information Details Query (Eloquent):</span>
									<p><b>$details</b> = <b class="function">new</b> <b>EmployeeInfoDetails</b>()</p>
									<p><b>$details</b>-><b class="function">employee_id</b> = <b>$employee</b>-><b class="function">id</b></p>
									<p><b>$details</b>-><b class="function">town_address</b> = <b>$request</b>-><b class="function">town_address</b></p>
									<p><b>$details</b>-><b class="function">em_con_name</b> = <b>$request</b>-><b class="function">em_con_name</b></p>
									<p><b>$details</b>-><b class="function">em_con_address</b> = <b>$request</b>-><b class="function">em_con_address</b></p>
									<p><b>$details</b>-><b class="function">em_con_num</b> = <b>$request</b>-><b class="function">em_con_num</b></p>
									<p><b>$details</b>-><b class="function">em_con_rel</b> = <b>$request</b>-><b class="function">em_con_rel</b></p>
									<p><b>$details</b>-><b class="function">fathers_name</b> = <b>$request</b>-><b class="function">fathers_name</b></p>
									<p><b>$details</b>-><b class="function">fathers_bday</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">fathers_bday</b>))</p>
									<p><b>$details</b>-><b class="function">mothers_name</b> = <b>$request</b>-><b class="function">mothers_name</b></p>
									<p><b>$details</b>-><b class="function">mothers_bday</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">mothers_bday</b>))</p>
									<p><b>$details</b>-><b class="function">spouse_name</b> = <b>$request</b>-><b class="function">spouse_name</b></p>
									<p><b>$details</b>-><b class="function">spouse_bday</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">spouse_bday</b>))</p>
									<p><b>$details</b>-><b class="function">rehirable</b> = <b>$request</b>-><b class="function">rehirable</b></p>
									<p><b>$details</b>-><b class="function">rehire_reason</b> = <b>$request</b>-><b class="function">rehire_reason</b></p>
									<p><b>$details</b>-><b class="function">avega_num</b> = <b>$request</b>-><b class="function">avega_num</b></p>
									<p><b>$details</b>-><b class="function">save</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>After inserting the data to <i>employee_info</i>, get the newly generated <b class="function">ID</b> and insert it together with the details needed for <i>employee_info_details</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Insert Employee Movement Query (Eloquent):</span>
									<p><b>$find_dept</b> = <b>$request</b>-><b class="function">team_name</b></p>
									<p></p>
									<p><b>$dept_obj</b> = <b>DB</b>::<b>select</b>(<b class="function">"select * from employee_department where department_name like '%</b><b>$find_dept</b><b class="function">%' limit 1"</b>)</p>
									<p></p>
									<p><b>$dept_id</b> = <b class="function">0</b></p>
									<p><b class="function">if</b>(<b>count</b>(<b class="function">$dept_obj</b>) > <b class="function">0</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dept_id</b> = <b>$dept_obj</b>[<b class="function">0</b>]-><b class="function">id</b></p>
									<p>}</p>
									<p></p>
									<p><b>$movement</b> = <b class="function">new</b> <b>MovementsTransfer</b>()</p>
									<p><b>$movement</b>-><b class="function">mv_employee_no</b> = <b>$employee</b>-><b class="function">id</b></p>
									<p><b>$movement</b>-><b class="function">mv_transfer_date</b> = <b>date</b>(<b class="function">"Y-m-d"</b>)</p>
									<p><b>$movement</b>-><b class="function">mv_dept</b> = <b>$dept_id</b></p>
									<p><b>$movement</b>-><b class="function">mv_position</b> = <b>$request</b>-><b class="function">position_name</b></p>
									<p><b>$movement</b>-><b class="function">save</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>After inserting the <i>employee_info</i> and <i>employee_info_details</i> data, use the <b class="function">team_name</b> to find the <b class="function">ID</b> of the selected <b>Department</b></li>
										<li>After that, get the <i>employee_info</i> generated <b class="function">ID</b> and insert it together with the details needed for <i>movements</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Insert Employee Dependents Query (Eloquent):</span>
									<p><b class="function">for</b>(<b>$i</b> = <b class="function">0</b>; <b>$i</b> &lt; <b>count</b>(<b>$request</b>-><b class="function">dependent_name</b>); <b>$i</b>++):</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b> = <b class="function">new</b> <b>EmployeeDependents</b>()</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">employee_num</b> = <b>$employee</b>-><b class="function">id</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">dependent</b> = <b>$request</b>-><b class="function">dependent_name</b>[<b>$i</b>]</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">generali_num</b> = <b>$request</b>-><b class="function">generali_num</b>[<b>$i</b>]</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">bday</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">dependent_bday</b>[<b>$i</b>]))</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">save</b>()</p>
									<p><b class="function">endfor</b></p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>After inserting the <i>employee_info</i>, <i>employee_info_details</i> and <i>movements</i> data, <b>Loop</b> the number of <b class="function">dependents</b> depending on how many is added in the system while filling-out the form.</li>
										<li>After that, get the <i>employee_info</i> generated <b class="function">ID</b> and insert it together with the details needed per dependents to <i>employee_dependents</i></li>
										<li>It will also add a <b>Log</b> that indicates that someone is being added in the <i>Active Employees</i> Lists</li>
									</ul>
								</div>
							</div>

							<div class="divider"></div>

							<div class="content content_child" id="view_page">
								<h3>View Employee Detail Page</h3>
								<p>Show a specific <i>Employees</i> details</p>

								<pre class="label">
									<span>Location:</span>
									<a href="http://dir.elink.corp/xx" target="_blank">http://dir.elink.corp/employee_info/xxx</a>
								</pre>

								<pre class="label">
									<span>Other Tables Affected:</span>
									<a href="javascript:;" class="disabled">adtl_linkees</a>
									<a href="javascript:;" class="disabled">employee_dependents</a>
									<a href="javascript:;" class="disabled">elink_account</a>
									<a href="javascript:;" class="disabled">movements</a>
								</pre>

								<pre class="label">
									<span>Models Used:</span>
									<a href="javascript:;" class="disabled">root/app/AdtlLinkee.php</a>
									<a href="javascript:;" class="disabled">root/app/EmployeeDepartment.php</a>
									<a href="javascript:;" class="disabled">root/app/ElinkAccount.php</a>
									<a href="javascript:;" class="disabled">root/app/EmployeeDependents.php</a>
								</pre>

								<pre class="label">
									<span>Views Used:</span>
									<a href="javascript:;" class="disabled">root/resources/views/employee/view-admin.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/personalv.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/user_accessv.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/job_relatedv.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/governmentv.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/loginv.blade.php</a>
								</pre>

								<pre class="label">
									<span>Functions Used:</span>
									<p><b>EmployeeInfoController</b><b class="function">::show</b></p>
								</pre>

								<pre class="label">
									<span>Get Specific Employee Query (Eloquent):</span>
									<p><b>$employee</b> = <b>User</b>::<b>withTrashed</b>()-><b class="function">find</b>(<b>$id</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Using the Employees <b class="function">ID</b>, get that specific employee <b>withTrashed</b> is a function use to allow <b class="function">deleted</b> data or <i>Separated Employees</i> to be viewed and not just <i>Active Employees</i></li>
										<li>If that certain employee is not found on the Gateway, it will redirect to a <b>404 Error</b> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Specific Employee's Details Query (Eloquent):</span>
									<p><b>$obj</b> = <b>EmployeeInfoDetails</b>::<b>where</b>(<b class="function">'employee_id'</b>, <b>$id</b>)-><b>get</b>()</p>
									<p><b class="function">if</b>(<b>count</b>(<b class="function">$obj</b>) > <b class="function">0</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b> = <b>$obj</b>[<b class="function">0</b>]</p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b> = (<b class="function">object</b>) [</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'town_address'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_name'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_rel'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_num'</b> => <b class="function">""</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;]</p>
									<p>}</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Using the Employees <b class="function">ID</b>, get that specific employee's <i>Information Details</i></li>
										<li>If there is no <i>Information Details</i> found, make an <b class="function">object</b> with empty data to avoid error</li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Employees Linkees Query (Eloquent):</span>
									<p><b>$employee</b>-><b class="function">getLinkees</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all Employees Available <i>Linkees</i>, for the <b>Immediate Superior</b> and <b>Manager</b>, the ones under them are automatically added as <i>Linkees</i>, other than that are the <i>Additional Linkees</i> that are not under that specific employee</li>
									</ul>
								</div>

								<pre class="label">
									<span>Get All Active Employees Query (Eloquent):</span>
									<p><b>User</b>::<b>whereNull</b>(<b class="function">'deleted_at'</b>)-><b>where</b>(<b class="function">'status'</b>, <b class="function">1</b>)-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>)-><b>get</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all <i>Active Employees</i> for selecting, an <b>Immediate Superior</b> or <b>Manager</b></li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Department Query (Eloquent):</span>
									<p><b>EmployeeDepartment</b>::<b class="function">all</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all available <i>Departments</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Elink Accounts Query (Eloquent):</span>
									<p><b>ElinkAccount</b>::<b class="function">all</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all available <i>Elink Accounts</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Specific Employee's EmployeeDependents Query (Eloquent):</span>
									<p><b>EmployeeDependents</b>::<b>where</b>(<b class="function">'employee_num'</b>, <b>$id</b>)-><b>where</b>(<b class="function">'status'</b>, <b class="function">1</b>)-><b>get</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Using the Employees <b class="function">ID</b>, get that specific employee's <i>Dependents</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Actions (Button Triggers):</span>
									<p><b>History</b></p>
									<p><b>Back</b></p>
									<p><b>Change Password</b></p>
									<p><b>Update Profile</b></p>
									<p><b>Deactivate Employee</b></p>
								</pre>

								<pre class="label">
									<span>History Action:</span>
									<p><b>Log</b>::<b>getLog</b>(<b class="function">'Employee'</b>, <b>$id</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Click the <b>History</b> Button, will show a <b class="function">Pop-Up</b> that is gonna show all the Updates that happened to that specific Employee</li>
									</ul>
								</div>

								<pre class="label">
									<span>Back Action:</span>
									<a href="http://dir.elink.corp/employees" target="_blank">http://dir.elink.corp/employees</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Back</b> Button, it will redirect you back to the <i>Active Employees</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Change Password Action:</span>
									<a href="http://dir.elink.corp/employee/xxx/changepassword" target="_blank">http://dir.elink.corp/employee/xxx/changepassword</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Change Password</b> Button, it will redirect you to the <i>Change Employee's Password</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Update Profile Action:</span>
									<a href="http://dir.elink.corp/employee_info/xxx/edit" target="_blank">http://dir.elink.corp/employee_info/xxx/edit</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Update Profile</b> Button, it will redirect you to the <i>Edit Employee Detail</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Deactivate Employee Action:</span>
									<p><b>EmployeeInfoController</b>::<b class="function">destroy</b></p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Person Icon with an X Mark <span class="fa fa-user-times"></span></b> Button, it will show a <b class="function">Pop-Up</b> that is gonna ask if you want to put this specific Employee to the <i>Separated Employees</i></li>
										<li>It will also add a <b>Log</b> that indicates that someone transfers this user to the <i>Seperated Employees</i> Lists</li>
									</ul>
								</div>
							</div>

							<div class="divider"></div>

							<div class="content content_child" id="edit_page">
								<h3>Edit Employee Detail Page</h3>
								<p>Update a specific <i>Employees</i> details</p>

								<pre class="label">
									<span>Location:</span>
									<a href="http://dir.elink.corp/employee_info/xxx/edit" target="_blank">http://dir.elink.corp/employee_info/xxx/edit</a>
								</pre>

								<pre class="label">
									<span>Other Tables Affected:</span>
									<a href="javascript:;" class="disabled">adtl_linkees</a>
									<a href="javascript:;" class="disabled">employee_dependents</a>
									<a href="javascript:;" class="disabled">elink_account</a>
									<a href="javascript:;" class="disabled">movements</a>
								</pre>

								<pre class="label">
									<span>Models Used:</span>
									<a href="javascript:;" class="disabled">root/app/AdtlLinkee.php</a>
									<a href="javascript:;" class="disabled">root/app/EmployeeDepartment.php</a>
									<a href="javascript:;" class="disabled">root/app/ElinkAccount.php</a>
									<a href="javascript:;" class="disabled">root/app/EmployeeDependents.php</a>
								</pre>

								<pre class="label">
									<span>Views Used:</span>
									<a href="javascript:;" class="disabled">root/resources/views/employee/edit.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/personal.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/user_access.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/job_related.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/government.blade.php</a>
									<a href="javascript:;" class="disabled">root/resources/views/employee/fields/login.blade.php</a>
								</pre>

								<pre class="label">
									<span>Inputs Needed:</span>
									<p><b>First Name</b> (Required)</p>
									<p><b>Middle Name</b></p>
									<p><b>Last Name</b> (Required)</p>
									<p><b>Employee ID</b> (Required)</p>
									<p><b>Phone Name / Alias</b></p>
									<p><b>Birthdate</b> (Required)</p>
									<p><b>Contact Number</b></p>
									<p><b>Gender</b> (Radio Button)</p>
									<p><b>Civil Status</b> (Select)</p>
									<p><b>Avega Number</b></p>
									<p><b>City Address</b></p>
									<p><b>Home Town Address</b></p>
									<p><b>Father's Name</b></p>
									<p><b>Father's Birthday</b></p>
									<p><b>Complete Mother's Maiden Name</b></p>
									<p><b>Mother's Birthday</b></p>
									<p><b>Spouse's Name</b></p>
									<p><b>Spouse's Birthday</b></p>
									<p><b>Dependent's Name</b> (Multiple)</p>
									<p><b>Dependent's Birthday</b> (Multiple)</p>
									<p><b>Dependent's Generali Number</b> (Multiple)</p>
									<p><b>In case of emergency please contact</b></p>
									<p><b>In case of emergency please contact - Relationship</b></p>
									<p><b>In case of emergency please contact - Contact Number</b></p>
									<p><b>In case of emergency please contact - Address</b></p>
									<p><b>User Access</b></p>
									<p><b>Linkees</b></p>
									<p><b>Position</b> (Required, Select)</p>
									<p><b>Account</b> (Required, Select)</p>
									<p><b>Team/Department</b> (Required, Select)</p>
									<p><b>Manager</b> (Select)</p>
									<p><b>Immediate Superior / Supervisor</b> (Select)</p>
									<p><b>Employee Type </b> (Select)</p>
									<p><b>Employee Category</b> (Select)</p>
									<p><b>Hire Date</b></p>
									<p><b>Production Date</b></p>
									<p><b>Regularization Date</b></p>
									<p><b>EXT</b></p>
									<p><b>Wave</b></p>
									<p><b>Rehirable</b></p>
									<p><b>Rehirable - Reason</b></p>
									<p><b>SSS Number</b></p>
									<p><b>Pag-ibig/HDMF</b></p>
									<p><b>Philhealth Number</b></p>
									<p><b>TIN ID</b></p>
									<p><b>Company Email</b> (Required)</p>
									<p><b>Personal Email</b></p>
									<p><b>Secondary Email</b></p>
								</pre>

								<pre class="label">
									<span>Functions Used:</span>
									<p><b>EmployeeInfoController</b>::<b class="function">edit</b></p>
									<p><b>EmployeeInfoController</b>::<b class="function">update</b></p>
									<p><b>EmployeeRepository</b>::<b class="function">updateEmployee</b></p>
								</pre>

								<pre class="label">
									<span>Get Specific Employee Query (Eloquent):</span>
									<p><b>$employee</b> = <b>User</b>::<b>withTrashed</b>()-><b class="function">find</b>(<b>$id</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Using the Employees <b class="function">ID</b>, get that specific employee <b>withTrashed</b> is a function use to allow <b class="function">deleted</b> data or <i>Separated Employees</i> to be viewed and not just <i>Active Employees</i></li>
										<li>If that certain employee is not found on the Gateway, it will redirect to a <b>404 Error</b> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Specific Employee's Details Query (Eloquent):</span>
									<p><b>$obj</b> = <b>EmployeeInfoDetails</b>::<b>where</b>(<b class="function">'employee_id'</b>, <b>$id</b>)-><b>get</b>()</p>
									<p><b class="function">if</b>(<b>count</b>(<b class="function">$obj</b>) > <b class="function">0</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b> = <b>$obj</b>[<b class="function">0</b>]</p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b> = (<b class="function">object</b>) [</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'town_address'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_name'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_address'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_num'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_rel'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'resignation_date'</b> => <b class="function">""</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'avega_num'</b> => <b class="function">""</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;]</p>
									<p>}</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Using the Employees <b class="function">ID</b>, get that specific employee's <i>Information Details</i></li>
										<li>If there is no <i>Information Details</i> found, make an <b class="function">object</b> with empty data to avoid error</li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Employees Linkees Query (Eloquent):</span>
									<p><b>$employee</b>-><b class="function">getLinkees</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all Employees Available <i>Linkees</i>, for the <b>Immediate Superior</b> and <b>Manager</b>, the ones under them are automatically added as <i>Linkees</i>, other than that are the <i>Additional Linkees</i> that are not under that specific employee</li>
									</ul>
								</div>

								<pre class="label">
									<span>Get All Active Employees Query (Eloquent):</span>
									<p><b>User</b>::<b>whereNull</b>(<b class="function">'deleted_at'</b>)-><b>where</b>(<b class="function">'status'</b>, <b class="function">1</b>)-><b>where</b>(<b class="function">'id'</b>, <b class="function">'&lt;&gt;'</b>, <b class="function">1</b>)-><b>orderBy</b>(<b class="function">'last_name'</b>)-><b>get</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all <i>Active Employees</i> for selecting, an <b>Immediate Superior</b> or <b>Manager</b></li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Department Query (Eloquent):</span>
									<p><b>EmployeeDepartment</b>::<b class="function">all</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all available <i>Departments</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Elink Accounts Query (Eloquent):</span>
									<p><b>ElinkAccount</b>::<b class="function">all</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Get all available <i>Elink Accounts</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Get Specific Employee's EmployeeDependents Query (Eloquent):</span>
									<p><b>EmployeeDependents</b>::<b>where</b>(<b class="function">'employee_num'</b>, <b>$id</b>)-><b>where</b>(<b class="function">'status'</b>, <b class="function">1</b>)-><b>get</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Using the Employees <b class="function">ID</b>, get that specific employee's <i>Dependents</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Update Employee Information Query (Eloquent):</span>
									<p><b>$manager</b> = <b>User</b>::<b>find</b>(<b>$request</b>-><b class="function">manager_id</b>)</p>
									<p><b>$supervisor</b> = <b>User</b>::<b>find</b>(<b>$request</b>-><b class="function">supervisor_id</b>)</p>
									<p></p>
									<p><b>$employee</b> = <b>User</b>::<b>find</b>(<b class="function">$id</b>)</p>
									<p><b>$employee</b>-><b class="function">eid</b> = <b>$request</b>-><b class="function">eid</b></p>
									<p><b>$employee</b>-><b class="function">first_name</b> = <b>$request</b>-><b class="function">first_name</b></p>
									<p><b>$employee</b>-><b class="function">middle_name</b> = <b>$request</b>-><b class="function">middle_name</b></p>
									<p><b>$employee</b>-><b class="function">last_name</b> = <b>$request</b>-><b class="function">last_name</b></p>
									<p><b>$employee</b>-><b class="function">alias</b> = <b>$request</b>-><b class="function">alias</b></p>
									<p><b>$employee</b>-><b class="function">position_name</b> = <b>$request</b>-><b class="function">position_name</b></p>
									<p><b>$employee</b>-><b class="function">contact_number</b> = <b>$request</b>-><b class="function">contact_number</b></p>
									<p><b>$employee</b>-><b class="function">supervisor_id</b> = <b>$request</b>-><b class="function">supervisor_id</b></p>
									<p><b>$employee</b>-><b class="function">manager_id</b> = <b>$request</b>-><b class="function">manager_id</b></p>
									<p></p>
									<p><b class="function">if</b>(<b>$supervisor</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">supervisor_name</b> = <b>$supervisor</b>-><b class="function">fullName</b>()</p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$manager</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">manager_name</b> = <b>$manager</b>-><b class="function">fullName</b>()</p>
									<p>}</p>
									<p></p>
									<p><b>$employee</b>-><b class="function">dept_code</b> = <b>$request</b>-><b class="function">dept_code</b></p>
									<p><b>$employee</b>-><b class="function">team_name</b> = <b>$request</b>-><b class="function">team_name</b></p>
									<p><b>$employee</b>-><b class="function">gender</b> = <b>$request</b>-><b class="function">gender_id</b></p>
									<p><b>$employee</b>-><b class="function">address</b> = <b>$request</b>-><b class="function">address</b></p>
									<p><b>$employee</b>-><b class="function">account_id</b> = <b>$request</b>-><b class="function">account_id</b></p>
									<p><b>$employee</b>-><b class="function">status</b> = <b>$request</b>-><b class="function">status_id</b></p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'employee_type'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">usertype</b> = <b>$request</b>-><b class="function">usertype</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'all_access'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">all_access</b> = <b class="function">1</b></p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">all_access</b> = <b class="function">0</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'is_admin'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_admin</b> = <b class="function">1</b></p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_admin</b> = <b class="function">0</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'is_hr'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_hr</b> = <b class="function">1</b></p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_hr</b> = <b class="function">0</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'is_erp'</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_erp</b> = <b class="function">1</b></p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">is_erp</b> = <b class="function">0</b></p>
									<p>}</p>
									<p></p>
									<p><b>$datetime</b> = <b class="function">new</b> <b>DateTime</b>()</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'birth_date'</b>) && <b>$request</b>-><b class="function">birth_date</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$birth_date</b> = <b>$datetime</b>-><b class="function">createFromFormat</b>(<b class="function">'m/d/Y'</b>, <b>$request</b>-><b class="function">birth_date</b>)-><b>format</b>(<b class="function">"Y-m-d H:i:s"</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">birth_date</b> = <b>$birth_date</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'hired_date'</b>) && <b>$request</b>-><b class="function">hired_date</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$hired_date</b> = <b>$datetime</b>-><b class="function">createFromFormat</b>(<b class="function">'m/d/Y'</b>, <b>$request</b>-><b class="function">hired_date</b>)-><b>format</b>(<b class="function">"Y-m-d H:i:s"</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">hired_date</b> = <b>$hired_date</b></p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">has</b>(<b class="function">'prod_date'</b>) && <b>$request</b>-><b class="function">prod_date</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$prod_date</b> = <b>$datetime</b>-><b class="function">createFromFormat</b>(<b class="function">'m/d/Y'</b>, <b>$request</b>-><b class="function">prod_date</b>)-><b>format</b>(<b class="function">"Y-m-d H:i:s"</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">prod_date</b> = <b>$prod_date</b></p>
									<p>}</p>
									<p></p>
									<p><b>$employee</b>-><b class="function">email</b> = <b>$request</b>-><b class="function">email</b></p>
									<p><b>$employee</b>-><b class="function">email2</b> = <b>$request</b>-><b class="function">email2</b></p>
									<p><b>$employee</b>-><b class="function">email3</b> = <b>$request</b>-><b class="function">email3</b></p>
									<p><b>$employee</b>-><b class="function">ext</b> = <b>$request</b>-><b class="function">ext</b></p>
									<p><b>$employee</b>-><b class="function">wave</b> = <b>$request</b>-><b class="function">wave</b></p>
									<p><b>$employee</b>-><b class="function">sss</b> = <b>$request</b>-><b class="function">sss</b></p>
									<p><b>$employee</b>-><b class="function">pagibig</b> = <b>$request</b>-><b class="function">pagibig</b></p>
									<p><b>$employee</b>-><b class="function">philhealth</b> = <b>$request</b>-><b class="function">philhealth</b></p>
									<p><b>$employee</b>-><b class="function">tin</b> = <b>$request</b>-><b class="function">tin</b></p>
									<p><b>$employee</b>-><b class="function">is_regular</b> = <b>$request</b>-><b class="function">is_regular</b></p>
									<p><b>$employee</b>-><b class="function">employee_category</b> = <b>$request</b>-><b class="function">employee_category</b></p>
									<p><b>$employee</b>-><b class="function">regularization_date</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">regularization_date</b>))</p>
									<p><b>$employee</b>-><b class="function">civil_status</b> = <b>$request</b>-><b class="function">civil_status</b></p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">hasFile</b>(<b class="function">"profile_image"</b>)){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$extension</b> = <b>$request</b>-><b class="function">file</b>(<b class="function">'profile_image'</b>)-><b>guessExtension</b>()</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$path</b> = <b>$request</b>-><b class="function">profile_image</b>-><b>storeAs</b>(<b class="function">'images/'</b>.<b>$employee</b>-><b class="function">id</b>, <b>$employee</b>-><b class="function">id</b> . <b class="function">'.'</b> . <b>$extension</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$employee</b>-><b class="function">profile_img</b> = <b>asset</b>(<b class="function">'storage/app/'</b>.<b>$path</b>)</p>
									<p>}</p>
									<p></p>
									<p><b>$employee</b>-><b class="function">save</b>()</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Updating a Specific <i>Employee Information</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Update Employee Information Details Query (Eloquent):</span>
									<p><b>$details</b> = <b>EmployeeInfoDetails</b>::<b>where</b>(<b class="function">'employee_id'</b>,<b class="function">"="</b>,<b>$employee</b>-><b class="function">id</b>)-><b>get</b>()</p>
									<p><b class="function">if</b>(<b>count</b>(<b>$details</b>) == <b class="function">0</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b> = <b class="function">new</b> <b>EmployeeInfoDetails</b>()</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">employee_id</b> = <b>$employee</b>-><b class="function">id</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">town_address</b> = <b>$request</b>-><b class="function">town_address</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">em_con_name</b> = <b>$request</b>-><b class="function">em_con_name</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">em_con_address</b> = <b>$request</b>-><b class="function">em_con_address</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">em_con_num</b> = <b>$request</b>-><b class="function">em_con_num</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">em_con_rel</b> = <b>$request</b>-><b class="function">em_con_rel</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">fathers_name</b> = <b>$request</b>-><b class="function">fathers_name</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">fathers_bday</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">fathers_bday</b>))</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">mothers_name</b> = <b>$request</b>-><b class="function">mothers_name</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">mothers_bday</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">mothers_bday</b>))</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">spouse_name</b> = <b>$request</b>-><b class="function">spouse_name</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">spouse_bday</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">spouse_bday</b>))</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">rehirable</b> = <b>$request</b>-><b class="function">rehirable</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">rehire_reason</b> = <b>$request</b>-><b class="function">rehire_reason</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">avega_num</b> = <b>$request</b>-><b class="function">avega_num</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$details</b>-><b class="function">save</b>()</p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>EmployeeInfoDetails</b>::<b>where</b>(<b class="function">'employee_id'</b>,<b class="function">'='</b>,<b>$employee</b>-><b class="function">id</b>)-><b>update</b>([</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'town_address'</b> => <b>$request</b>-><b class="function">town_address</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_name'</b> => <b>$request</b>-><b class="function">em_con_name</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_address'</b> => <b>$request</b>-><b class="function">em_con_address</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_num'</b> => <b>$request</b>-><b class="function">em_con_num</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'em_con_rel'</b> => <b>$request</b>-><b class="function">em_con_rel</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'fathers_name'</b> => <b>$request</b>-><b class="function">fathers_name</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'fathers_bday'</b> => <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">fathers_bday</b>)),</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'mothers_name'</b> => <b>$request</b>-><b class="function">mothers_name</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'mothers_bday'</b> => <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">mothers_bday</b>)),</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'spouse_name'</b> => <b>$request</b>-><b class="function">spouse_name</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'spouse_bday'</b> => <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">spouse_bday</b>)),</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'resignation_date'</b> => <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">resignation_date</b>)),</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'avega_num'</b> => <b>$request</b>-><b class="function">avega_num</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'rehirable'</b> => <b>$request</b>-><b class="function">rehirable</b>,</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">'rehire_reason'</b> => <b>$request</b>-><b class="function">rehire_reason</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;])</p>
									<p>}</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>After updating the data to <i>employee_info</i>, get the <b class="function">ID</b> and find the <i>employee_info_details</i></li>
										<li>If <b>Employee Details</b> is not found use the data to insert the details needed for <i>employee_info_details</i></li>
										<li>If <b>Employee Details</b> is existed then update the details needed for <i>employee_info_details</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Update Employee Dependents Query (Eloquent):</span>
									<p><b>EmployeeDependents</b>::<b>where</b>(<b class="function">"employee_num"</b>, <b>$request</b>-><b class="function">id</b>)-><b>delete</b>()</p>
									<p></p>
									<p><b class="function">for</b>(<b>$i</b> = <b class="function">0</b>; <b>$i</b> &lt; <b>count</b>(<b>$request</b>-><b class="function">dependent_name</b>); <b>$i</b>++):</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b> = <b class="function">new</b> <b>EmployeeDependents</b>()</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">employee_num</b> = <b>$employee</b>-><b class="function">id</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">dependent</b> = <b>$request</b>-><b class="function">dependent_name</b>[<b>$i</b>]</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">bday</b> = <b>date</b>(<b class="function">"Y-m-d"</b>, <b>strtotime</b>(<b>$request</b>-><b class="function">dependent_bday</b>[<b>$i</b>]))</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">generali_num</b> = <b>$request</b>-><b class="function">generali_num</b>[<b>$i</b>]</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$dependents</b>-><b class="function">save</b>()</p>
									<p><b class="function">endfor</b></p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>After updating the <i>employee_info</i> and <i>employee_info_details</i> data, get the <i>employee_dependents</i> for that specific employee and delete it</li>
										<li>Deleting it and reinserting the <b class="function">dependents</b> is easier than updating the records</li>
									</ul>
								</div>

								<pre class="label">
									<span>Update Employee Leave Credits Query (Eloquent):</span>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">employee_category</b> != <b>$request</b>-><b class="function">employee_category</b> && <b>intval</b>(<b>date</b>(<b class="function">'j'</b>)) <= <b class="function">15</b>) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$leave_credit</b> = <b>LeaveCredits</b>::<b>where</b>(<b class="function">'year'</b>, <b>date</b>(<b class="function">'Y'</b>))-><b>where</b>(<b class="function">'month'</b>, <b>date</b>(<b class="function">'m'</b>))-><b>where</b>(<b class="function">'employee_id'</b>, <b>$employee</b>-><b class="function">id</b>)-><b>where</b>(<b class="function">'type'</b>, <b class="function">1</b>)-><b>first</b>()</p>
									<p></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">if</b>(!<b>empty</b>(<b>$leave_credit</b>)) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>$credit</b> = <b class="function">0</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">switch</b>(<b>$request</b>-><b class="function">employee_category</b>):</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">case 1</b>: <b>$credit</b> = <b class="function">20</b>; <b class="function">break</b>;</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">case 2</b>: <b>$credit</b> = <b class="function">14</b>; <b class="function">break</b>;</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">case 3</b>: <b>$credit</b> = <b class="function">10</b>; <b class="function">break</b>;</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">case 4</b>: <b>$credit</b> = <b class="function">10</b>; <b class="function">break</b>;</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">endswitch</b></p>
									<p></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>LeaveCredit</b>::<b>where</b>(<b class="function">'id'</b>, <b>$leave_credit</b>-><b class="function">id</b>)-><b>update</b>([<b class="function">'credit'</b> => <b>$credit</b> / <b class="function">12</b>])</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
									<p>}</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>This query is for when the employees <b class="function">Category</b> changes. ex: <b>Rank</b> => <b>Supervisor</b>, <b>Supervisor</b> => <b>Manager</b></li>
										<li>Every month, new <b class="function">Leave Credits</b> are added to the <i>Active Employees</i></li>
										<li>If the <b class="function">Category</b> changes within <b>15 days</b> within the month</li>
										<li>Update that <b class="function">Leave Credit</b> to his/her designated <b class="function">Category</b></li>
										<li>It will also add a <b>Log</b> that indicates that this employees information is updated</li>
									</ul>
								</div>

								<pre class="label">
									<span>Actions (Button Triggers):</span>
									<p><b>Back</b></p>
									<p><b>Add Linkees</b></p>
									<p><b>Movements/Transfer</b></p>
								</pre>

								<pre class="label">
									<span>Back Action:</span>
									<a href="http://dir.elink.corp/employee_info/xxx" target="_blank">http://dir.elink.corp/employee_info/xxx</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Back</b> Button, it will redirect you back to the <i>View Employee Detail</i> Page</li>
									</ul>
								</div>

								<pre class="label">
									<span>Add Linkees Action:</span>
									<p><b>EmployeeInfoController</b>::<b class="function">processLinkees</b></p>
								</pre>

								<pre class="label">
									<span>Proccess Linkees Query (Eloquent):</span>
									<p><b>$validator</b> = <b>Validator</b>::<b>make</b>(<b>$req</b>-><b class="function">all</b>(), [<b class="function">"adtl_linkee"</b> => <b class="function">'required'</b>])</p>
									<p></p>
									<p><b class="function">if</b>(<b>$validator</b>-><b class="function">fails</b>()) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>return</b> [<b class="function">'data'</b> => <b class="function">false</b>]</p>
									<p>}</p>
									<p></p>
									<p><b>$adtl_linker</b> = <b>$req</b>-><b class="function">get</b>(<b class="function">'adtl_linker'</b>)</p>
									<p><b>$adtl_linkee</b> = <b>$req</b>-><b class="function">get</b>(<b class="function">'adtl_linkee'</b>)</p>
									<p><b>$adtl_row</b> = <b>$req</b>-><b class="function">get</b>(<b class="function">'adtl_row'</b>)</p>
									<p><b>$adtl_added_by</b> = <b>Auth</b>::<b>user</b>()-><b class="function">id</b></p>
									<p><b>$adtl_date_added</b> = <b>date</b>(<b class="function">"Y-m-d H:i:s"</b>)</p>
									<p></p>
									<p><b>$exist</b> = <b>AdtlLinkee</b>::<b>where</b>(<b class="function">'adtl_linker'</b>, <b>$adtl_linker</b>)-><b>where</b>(<b class="function">'adtl_linkee'</b>, <b>$adtl_linkee</b>)-><b>first</b>()</p>
									<p><b>$linker</b> = <b>User</b>::<b>where</b>(<b class="function">'id'</b>, <b>$adtl_linker</b>)-><b>first</b>()</p>
									<p><b>$linkee</b> = <b>User</b>::<b>where</b>(<b class="function">'id'</b>, <b>$adtl_linkee</b>)-><b>first</b>()</p>
									<p></p>
									<p><b class="function">if</b>(!<b>$exist</b>){</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$data</b>[<b class="function">'adtl_linker'</b>] = <b>$adtl_linker</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$data</b>[<b class="function">'adtl_linkee'</b>] = <b>$adtl_linkee</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$data</b>[<b class="function">'adtl_row'</b>] = <b class="function">1</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$data</b>[<b class="function">'adtl_added_by'</b>] = <b>$adtl_added_by</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$data</b>[<b class="function">'adtl_date_added'</b>] = <b>$adtl_date_added</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$data</b>[<b class="function">'adtl_status'</b>] = <b class="function">1</b></p>
									<p></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$linkees</b> = <b>AdtlLinkee</b>::<b>create</b>(<b>$data</b>)</p>
									<p>}</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Add <i>Linkees</i> to that employee if their connection does not exists</li>
										<li>It will also add a <b>Log</b> that indicates that there are changes in the employees <i>Linkees</i></li>
									</ul>
								</div>

								<pre class="label">
									<span>Movements/Transfer Action:</span>
									<p><b>EmployeeInfoController</b>::<b class="function">saveMovements</b></p>
								</pre>

								<pre class="label">
									<span>Save Movements Query (Eloquent):</span>
									<p><b>$obj</b> = <b class="function">new</b> <b>MovementsTransfer</b>()</p>
									<p><b>$obj</b>-><b class="function">mv_employee_no</b> = <b>$request</b>-><b>post</b>(<b class="function">'mv_employee_no'</b>)</p>
									<p><b>$obj</b>-><b class="function">mv_dept</b> = <b>$request</b>-><b>post</b>(<b class="function">'mv_dept'</b>)</p>
									<p><b>$obj</b>-><b class="function">mv_position</b> = <b>$request</b>-><b>post</b>(<b class="function">'mv_position'</b>)</p>
									<p><b>$obj</b>-><b class="function">mv_transfer_date</b> = <b>date</b>(<b class="function">'Y-m-d'</b>, <b>strtotime</b>(<b>$request</b>-><b>post</b>(<b class="function">'mv_transfer_date'</b>)))</p>
									<p></p>
									<p><b>$sql</b> = <b>DB</b>::<b>select</b>(<b class="function">"SELECT department_code FROM employee_department WHERE id like '%</b><b>$obj</b>-><b class="function">mv_dept%' limit 1"</b>)</p>
									<p></p>
									<p><b class="function">if</b>(<b>count</b>(<b>$sql</b>) > <b class="function">0</b>):</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$userarray</b>[<b class="function">'team_name'</b>] = <b>$request</b>-><b>post</b>(<b class="function">'dept_name'</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$userarray</b>[<b class="function">'dept_code'</b>] = <b>$sql</b>[<b class="function">0</b>]-><b class="function">department_code</b></p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$userarray</b>[<b class="function">'position_name'</b>] = <b>$obj</b>-><b class="function">mv_position</b></p>
									<p><b class="function">endif</b></p>
									<p></p>
									<p><b>$affected</b> = <b>DB</b>::<b>table</b>(<b class="function">'employee_info'</b>)-><b>where</b>(<b class="function">'id'</b>, <b>$request</b>-><b>post</b>(<b class="function">'mv_employee_no'</b>))-><b>update</b>(<b>$userarray</b>)</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Add new <i>Movements</i> for that specific employee, and update his/her current <b class="function">Department</b> and <b class="function">Position</b> to the updated one</li>
										<li>It will also add a <b>Log</b> that indicates that there are changes in the employees <i>Movements</i></li>
									</ul>
								</div>
							</div>

							<div class="divider"></div>

							<div class="content content_child" id="change_page">
								<h3>Change Employee Password Page</h3>
								<p>Change Employees <i>Password</i></p>

								<pre class="label">
									<span>Location:</span>
									<a href="http://dir.elink.corp/employee/xxx/changepassword" target="_blank">http://dir.elink.corp/employee/xxx/changepassword</a>
								</pre>

								<pre class="label">
									<span>Views Used:</span>
									<a href="javascript:;" class="disabled">root/resources/views/employee/changepassword.blade.php</a>
								</pre>

								<pre class="label">
									<span>Other Directory Used:</span>
									<a href="javascript:;" class="disabled">root/app/Repositories/AuthRepository.php</a>
								</pre>

								<pre class="label">
									<span>Functions Used:</span>
									<p><b>EmployeeInfoController</b><b class="function">::savepassword</b></p>
									<p><b>AuthRepository</b><b class="function">::savepassword</b></p>
								</pre>

								<pre class="label">
									<span>Change Password Query (Eloquent):</span>
									<p><b>$user</b> = <b>User</b>::<b>withTrashed</b>()-><b>find</b>(<b>$id</b>)</p>
									<p></p>
									<p><b class="function">if</b>(<b>$request</b>-><b class="function">new_password</b> == <b class="function">""</b> && <b>$request</b>-><b class="function">old_password</b> == <b class="function">""</b> && <b>$request</b>-><b class="function">confirm_password</b> == <b class="function">""</b>) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">return</b> <b>redirect</b>()-><b>back</b>()-><b>withErrors</b>(<b>array</b>(<b class="function">'message'</b> => <b class="function">'all field are required!'</b>, <b class="function">'status'</b> => <b class="function">'error'</b>))</p>
									<p>}</p>
									<p></p>
									<p><b class="function">if</b>(!<b>Auth</b>-><b>user</b>()-><b>isAdmin</b>() && !<b>Hash</b>::<b>check</b>(<b>$request</b>-><b class="function">old_password</b>, <b>$user</b>-><b class="function">password</b>)) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b>$user</b>-><b class="function">password</b> = <b>Hash</b>::<b>make</b>(<b>$request</b>-><b class="function">new_password</b>)</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">if</b> (<b>$user</b>-><b>save</b>()) {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">return</b> <b>redirect</b>()-><b>back</b>()-><b>withErrors</b>(<b>array</b>(<b class="function">'message'</b> => <b class="function">'Password successfully changed!'</b>, <b class="function">'status'</b> => <b class="function">'success'</b>));</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">return</b> <b>redirect</b>()-><b>back</b>()-><b>withErrors</b>(<b>array</b>(<b class="function">'message'</b> => <b class="function">'error saving !'</b>, <b class="function">'status'</b> => <b class="function">'error'</b>));</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
									<p>} <b class="function">else</b> {</p>
									<p>&nbsp;&nbsp;&nbsp;&nbsp;<b class="function">return</b> <b>redirect</b>()-><b>back</b>()-><b>withErrors</b>(<b>array</b>(<b class="function">'message'</b> => <b class="function">'new password don\'t match'</b>, <b class="function">'status'</b> => <b class="function">'error'</b>));</p>
									<p>}</p>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>First check if the employee existed, if the passwords are all empty show error</li>
										<li>If the passwords don't match show error</li>
										<li>If the passwords are correct change the employees <b class="function">Password</b></li>
									</ul>
								</div>

								<pre class="label">
									<span>Actions (Button Triggers):</span>
									<p><b>Back</b></p>
								</pre>

								<pre class="label">
									<span>Back Action:</span>
									<a href="http://dir.elink.corp/employee_info/xxx" target="_blank">http://dir.elink.corp/employee_info/xxx</a>
								</pre>

								<div class="comments">
									<h5>Comments</h5>
									<ul>
										<li>Clicking the <b>Back</b> Button, it will redirect you back to the <i>View Employee Detail</i> Page</li>
									</ul>
								</div>
							</div>
						</div>
					</main>
				</div>

				<div class="clearfix"></div>
			</div>
		</div>
		<!-- End Main -->
	</div> <!-- End Clearfix -->
</div> <!-- End Protect Me -->
<a href="#" class="back_top"></a>
<footer>
	<div class="wrapper">
		<div class="footer_con">
			<div class="pagination">
				<a href="company.html">Prev</a>
				<a href="separated_employees.html">Next</a>
			</div>
		</div>
	</div>
</footer>
</body>
</html>
